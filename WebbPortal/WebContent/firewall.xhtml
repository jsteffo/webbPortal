<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
<head>
<script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<meta name="description" content="" />
<meta name="author" content="" />

<link
	href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"
	rel="stylesheet" />
<script
	src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<link rel="icon" href="../../favicon.ico" />

<title>Narrow Jumbotron Template for Bootstrap</title>
<!-- Bootstrap core CSS -->
<link href="../../dist/css/bootstrap.min.css" rel="stylesheet" />

<!-- Custom styles for this template -->
<link href="jumbotron-narrow.css" rel="stylesheet" />

<!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
<!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
<script src="../../assets/js/ie-emulation-modes-warning.js"></script>

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

	<div class="container">
		<div class="header clearfix">
			<nav>
			<ul class="nav nav-pills pull-right">
				<li role="presentation" class="active"><a href="index.xhtml">Home</a></li>
				<li role="presentation"><a href="#">About us</a></li>
				<li role="presentation"><a href="#">Contact</a></li>
			</ul>
			</nav>
			<h3 class="text-muted">Welcome to your network, Mattias</h3>
		</div>

		<div class="jumbotron">
			<h1>Configure your firewall</h1>
			<p class="lead">With firewall from Telia you can control what
				kind of programs that should be allowed to communicate with your
				computer</p>

			<h:form>
				<h:selectOneMenu value="#{firewallBean.direction}">
					<f:selectItem itemValue="inbound" itemLabel="inbound" />
					<f:selectItem itemValue="outbound" itemLabel="outbound" />
				</h:selectOneMenu>
				<h:selectOneMenu value="#{firewallBean.access}">
					<f:selectItem itemValue="deny" itemLabel="deny" />
					<f:selectItem itemValue="allow" itemLabel="allow" />
				</h:selectOneMenu>
				<br></br>
				<br></br>
				<br></br>
				<br></br>
				<div class="form-group">

					<label for="exampleInputEmail1">Name</label>
					<h:inputText type="email" class="form-control" id="name1"
						pt:placeholder="Enter name of rule" value="#{firewallBean.name}"></h:inputText>



					<label for="exampleInputEmail1">Source ip</label>
					<h:inputText type="email" class="form-control" id="source1"
						pt:placeholder="Enter source ip" value="#{firewallBean.sourceIp}"></h:inputText>

					<label for="exampleInputEmail1">Destination ip</label>
					<h:inputText type="email" class="form-control" id="dest1"
						pt:placeholder="Enter destination ip"
						value="#{firewallBean.destinationIp}"></h:inputText>

					<label for="exampleInputEmail1">Port</label>
					<h:inputText type="email" class="form-control" id="port1"
						pt:placeholder="Enter port" value="#{firewallBean.port}"></h:inputText>

					<h:commandButton type="submit" class="btn btn-default"
						value="Send order" action="#{firewallBean.submitFirewall}"></h:commandButton>

				</div>

			</h:form>

			<table class="table table-bordered">
				<tr>
					<th>Name</th>
					<th>Direction</th>
					<th>Access</th>
					<th>Source</th>
					<th>Destination</th>
					<th>Port</th>
					<th></th>
				</tr>
				<!-- 			Funkar... Nu gÃ¤ller det bara att vi populerar detta -->
				<ui:repeat var="o" value="#{firewallBean.currentRules}">
					<tr>
						<td>#{o.name}</td>
						<td>#{o.direction}</td>
						<td>#{o.access}</td>
						<td>#{o.sourceIp}</td>
						<td>#{o.destinationIp}</td>
						<td>#{o.port}</td>
						
						<td>
						<h:form>
						<h:commandLink action="#{firewallBean.delete}"> 
							<f:param name="delete" value="#{o.name}"></f:param>
    					<h:graphicImage value="https://cdn1.iconfinder.com/data/icons/CrystalClear/16x16/actions/button_cancel.png" alt="delete" />
						</h:commandLink>
		
						
						</h:form>
							</td>
					</tr>
				</ui:repeat>
			</table>
			'<h:form>
			<h:commandButton type="submit" class="btn btn-default"
				value="refresh" action="#{firewallBean.refresh}"></h:commandButton>
				</h:form>
		</div>


	</div>
	<!-- /container -->


	<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
	<script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
</body>
</html>